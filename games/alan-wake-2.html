<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alan Wake 2</title>
  <link rel="stylesheet" href="../css/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <main class="game-page">
    <h1 class="game-title neon">Alan Wake 2</h1>
    <div class="badge-container">
      <span class="badge">Third-Person Stealth Action Horror</span>
    </div>
    <p class="release"><strong>Release Date:</strong> 2023</p>

    <!-- ✅ Proper YouTube Embed Format -->
    <div class="video-wrapper">
      <iframe width="100%" height="480" src="https://www.youtube.com/embed/XAOIPgdrAcI"
        frameborder="0" allowfullscreen>
      </iframe>
    </div>

    <!-- ✅ FPS Chart Canvas -->
    <h2 class="fps-header neon">FPS Benchmark</h2>
    <canvas id="fpsChart" width="400" height="200"></canvas>

    <!-- ✅ Description -->
    <section class="description">
      <h2>Description</h2>
      <p>
        Alan Wake returns in a haunting sequel filled with psychological horror, cinematic suspense, and supernatural
        threats. Explore twisted realities in this dark, story-driven experience.
      </p>
    </section>

    <a href="../index.html" class="back-link">← Back to Home</a>
  </main>

  <!-- ✅ JSON Loader + Chart Draw -->
  <script type="module">
    import gameData from '../assets/Game_Data.json' assert { type: "json" };

    const game = gameData.find(g => g.title === "Alan Wake 2");
    if (game) {
      const ctx = document.getElementById('fpsChart')?.getContext('2d');
      if (ctx) {
        const fpsChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['1080p', '1440p'],
            datasets: [{
              label: 'Average FPS',
              data: [game.fps['1080p'], game.fps['1440p']],
              backgroundColor: ['#00ffffaa', '#00ffaa88']
            }]
          },
          options: {
            responsive: true,
            plugins: {
              legend: { display: false },
              tooltip: { enabled: true }
            },
            scales: {
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: 'Frames Per Second (FPS)',
                  color: '#00ffff'
                },
                ticks: { color: '#fff' }
              },
              x: {
                ticks: { color: '#fff' }
              }
            }
          }
        });
      }
    }
  </script>
</body>

</html>